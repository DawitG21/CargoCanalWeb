<section>
    <h6 class="text-danger">* asteriks report field values are in days.</h6>

    <div class="table-responsive" ng-if="report.data">
        <table id="report_table" class="display table table-condensed table-bordered">
            <caption class="caption-report"><i class="common-sprite cargocanal_32 caption-logo"></i> {{report.filter.name.label}}</caption>
            <thead>
                <tr>
                    <th class="text-center">Company</th>
                    <th class="text-center">Country</th>
                    <!--<th class="text-center">Port</th>-->
                    <th class="text-center" title="Bill of Lading">BoL</th>
                    <!--<th class="text-center">BoL Date</th>-->
                    <th class="text-center" title="Days Before Voyage">*B.VOY</th>
                    <th class="text-center" title="Days On Voyage">*VOY</th>
                    <th class="text-center" title="Days At Discharge Port">*DIC</th>
                    <th class="text-center" title="Days Under Custom Clearance">*UCC</th>
                    <th class="text-center" title="Days Under Port Clearance">*UPC</th>
                    <th class="text-center" title="Days Ready For Loading">*RFL</th>
                    <th class="text-center" title="Days On Dispatch">*DIP</th>
                    <th class="text-center" title="Days At Storage Port">*DRY</th>
                    <th class="text-center" title="Days Under Custom Inspection">*UCI</th>
                    <th class="text-center">*Total</th>
                </tr>
            </thead>
            <tbody class="text-center">
                <tr ng-repeat="d in report.data" ng-class="d.Total == null ? 'text-danger':''">
                    <td>{{d.CompanyName}}</td>
                    <td>{{d.Country}}<br /><h6>{{d.PortName}}</h6></td>
                    <!--<td>{{d.PortName}}</td>-->
                    <td>{{d.BillNumber}}<br /><h6>{{d.BillDate | date:'dd MMM yyyy'}}</h6></td>
                    <!--<td>{{d.BillDate | date:'dd MMM yyyy'}}</td>-->
                    <td>{{d.BeforeVoyage}}</td>
                    <td>{{d.OnVoyage}}</td>
                    <td>{{d.CargoDischarged}}</td>
                    <td>{{d.UnderCustomClearance}}</td>
                    <td>{{d.UnderPortClearance}}</td>
                    <td>{{d.ReadyForLoading}}</td>
                    <td>{{d.CargoDispatched}}</td>
                    <td>{{d.AtDryPort}}</td>
                    <td>{{d.UnderCustomInspection}}</td>
                    <td>{{d.Total}}</td>
                </tr>
            </tbody>
            <!--<tfoot>
                <tr class="totals-line">
                    <th class="text-center" colspan="4">Average</th>
                    <th class="text-center">{{report.getTotal(group, 'BeforeVoyage') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'OnVoyage') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'CargoDischarged') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'UnderCustomClearance') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'UnderPortClearance') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'ReadyForLoading') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'CargoDispatched') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'AtDryPort') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'UnderCustomInspection') / group.length | number: 0}}</th>
                    <th class="text-center">{{report.getTotal(group, 'Total') / group.length | number: 0}}</th>
                </tr>
                <tr class="totals-line">
                    <td colspan="4">Total</td>
                    <td class="text-right">{{report.getTotal(group, 'BeforeVoyage')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'OnVoyage')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'CargoDischarged')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'UnderCustomClearance')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'UnderPortClearance')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'ReadyForLoading')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'CargoDispatched')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'AtDryPort')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'UnderCustomInspection')}}</td>
                    <td class="text-right">{{report.getTotal(group, 'Total')}}</td>
                </tr>
            </tfoot>-->
        </table>
    </div>

</section>

<script>
    setTimeout(function () {
        $.extend($.fn.dataTable.defaults, {
            dom: 'B<"clear">lfrtip',
            buttons: ['excel', 'pdf', 'print']
        });

        $("#report_table").DataTable();
    }, 0);
</script>