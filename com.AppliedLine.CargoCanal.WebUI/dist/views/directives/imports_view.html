<div class="margin-bottom-15">
    <p class="pull-left">Showing {{imports.length}} records</p>
    <button type="button" class="btn btn-primary pull-right" ng-hide="searchText && searchText.length > 0" ng-click="getImports()">More Records &raquo;</button>
    <button type="button" class="btn btn-primary pull-right" ng-show="searchText && searchText.length > 0" ng-click="searchImports()">More Records &raquo;</button>
</div>

<div ng-repeat="gImport in groupedImports">
    <div class="list-group-item-heading">
        <h3>{{gImport.key | date:'fullDate'}}</h3>
    </div>

    <div class="card slide-up" ng-repeat="d in gImport.value">
        <section class="card-options">
            <aside class="card-options-btn"></aside>
            <article class="card-options-content">
                <div class="card-options-more-btn common-sprite fullscreen_black_24" ng-click="optionsMore.show(d, $parent.$index, $index)"></div>

                <div class="card-option" ng-click="preview.import.show(d)">
                    <span class="card-option icon">
                        <span class="common-sprite container-32"></span>
                        <i class="badge icon-data">{{d.Items.length}}</i>
                    </span>
                </div>
                <div class="card-option" ng-click="status.getStatuses(d)">
                    <span class="card-option icon">
                        <span class="common-sprite bell-32"></span>
                        <i class="badge icon-data">i</i>
                    </span>
                </div>
                <div class="card-option" ng-click="problem.getProblems(d)">
                    <span class="card-option icon">
                        <span class="common-sprite fire-32"></span>
                        <i ng-class="{'badge icon-data bg-color-red': d.ProblemsUnresolved, 'badge icon-data': !d.ProblemsUnresolved}">{{d.ProblemsUnresolved}}</i>
                    </span>
                </div>
                <div class="card-option" ng-click="consigneeInfo.show(d)">
                    <span class="card-option icon">
                        <span class="glyphicon glyphicon-user"></span>
                        <p>Consignee</p>
                    </span>
                </div>
                <div class="card-option" ng-click="costInfo.show(d, $parent.$index, $index)">
                    <span class="card-option icon">
                        <span class="glyphicon glyphicon-usd"></span>
                        <p>Costs</p>
                    </span>
                </div>
                <div class="card-option" ng-click="markAsDone(d, $parent.$index, $index)">
                    <span class="card-option icon">
                        <span class="glyphicon glyphicon-check"></span>
                        <p>Done</p>
                    </span>
                </div>
                <div class="card-option" ng-click="terminateImportExport(d, $parent.$index, $index)">
                    <span class="card-option icon">
                        <span class="glyphicon glyphicon-trash"></span>
                        <p>Recycle</p>
                    </span>
                </div>
            </article>
        </section>

        <aside class="card-logo" ng-class="{iecompleted: d.Completed, ieterminated: d.Terminated}">
            <div class="logo" ng-class="getMotIcon(d.MOT)"></div>
        </aside>
        <article class="card-content">
            <div class="col-sm-6">
                <h3 ng-bind="d.Bill" class="font-bold-600"></h3>
                <h5>{{d.DateInserted | date: 'MMMM dd, yyyy'}}</h5>
            </div>
            <div class="col-sm-6">
                <h5 class="font-bold" ng-if="d.Carrier">{{d.Carrier}}, {{d.Vessel}}</h5>
                <h5 class="font-bold" ng-if="!d.Carrier">TRUCK CARRIER</h5>
                <h5 class="font-bold">{{d.PortOfDischarge}} <span class="glyphicon glyphicon-arrow-left"></span> {{d.PortOfLoading}}</h5>
            </div>
        </article>
    </div>
</div>

<div class="margin-top-15" ng-hide="imports.length == 0">
    <p class="pull-left">Showing {{imports.length}} records</p>
    <button type="button" class="btn btn-primary pull-right" ng-hide="searchText && searchText.length > 0" ng-click="getImports()">More Records &raquo;</button>
    <button type="button" class="btn btn-primary pull-right" ng-show="searchText && searchText.length > 0" ng-click="searchImports()">More Records &raquo;</button>
</div>

<!-- Options More view -->
<dir-options-more-window></dir-options-more-window>
<!-- Consignee info update view -->
<dir-forwarder-update-consignee-view></dir-forwarder-update-consignee-view>
<!-- Cost update view -->
<dir-import-export-update-cost-view></dir-import-export-update-cost-view>
<!-- Import bill view -->
<dir-import-bill-preview></dir-import-bill-preview>
<!-- Statues view -->
<dir-status-update-view></dir-status-update-view>
<!-- Problems view -->
<dir-problem-update-view></dir-problem-update-view>